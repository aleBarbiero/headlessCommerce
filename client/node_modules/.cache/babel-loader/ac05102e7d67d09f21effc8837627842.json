{"ast":null,"code":"import _toConsumableArray from\"/home/alessio_barbiero/headlessCommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React from'react';import{useContext}from'react';import{ProductContext}from'../context';import Title from'./Title';//unique filter\nvar getUniqueType=function getUniqueType(item){return _toConsumableArray(new Set(item.map(function(item){return item[\"type\"];}))).sort();};var getUniqueBrand=function getUniqueBrand(item){return _toConsumableArray(new Set(item.map(function(item){return item[\"brand\"];}))).sort();};var getUniqueComp=function getUniqueComp(item){var toReturn=new Set();item.map(function(item){item[\"compatibility\"].map(function(item){return toReturn.add(item);});});return toReturn;};export default function ProductsFilter(_ref){var products=_ref.products;var context=useContext(ProductContext);var handleChanges=context.handleChanges,resetFilters=context.resetFilters,sort=context.sort,type=context.type,brand=context.brand,price=context.price,minPrice=context.minPrice,maxPrice=context.maxPrice,compatibility=context.compatibility;var types=getUniqueType(products);types=['all'].concat(_toConsumableArray(types));types=types.map(function(item,index){return/*#__PURE__*/React.createElement(\"option\",{value:item,key:index},item.charAt(0).toUpperCase()+item.slice(1));});var brands=getUniqueBrand(products);brands=['all'].concat(_toConsumableArray(brands));brands=brands.map(function(item,index){return/*#__PURE__*/React.createElement(\"option\",{value:item,key:index},item.charAt(0).toUpperCase()+item.slice(1));});var comp=getUniqueComp(products);comp=[\"all\"].concat(_toConsumableArray(comp));comp=comp.map(function(item,index){return/*#__PURE__*/React.createElement(\"option\",{value:item,key:index},item.charAt(0).toUpperCase()+item.slice(1));});return/*#__PURE__*/React.createElement(\"section\",{className:\"filter-container\"},/*#__PURE__*/React.createElement(Title,{title:\"search products\"}),/*#__PURE__*/React.createElement(\"form\",{className:\"filter-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"type\"},\"Category\"),/*#__PURE__*/React.createElement(\"select\",{name:\"type\",id:\"type\",value:type,className:\"form-control\",onChange:handleChanges},types)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"brand\"},\"Brand\"),/*#__PURE__*/React.createElement(\"select\",{name:\"brand\",id:\"brand\",value:brand,className:\"form-control\",onChange:handleChanges},brands)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"compability\"},\"Compatibility\"),/*#__PURE__*/React.createElement(\"select\",{name:\"compatibility\",id:\"compatibility\",value:compatibility,className:\"form-control\",onChange:handleChanges},comp)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"price\"},\"Max price: $\",price),/*#__PURE__*/React.createElement(\"input\",{type:\"range\",name:\"price\",min:minPrice,max:maxPrice,id:\"price\",value:price,onChange:handleChanges,className:\"form-control\",step:\"50\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"sort\"},\"Sort by:\"),/*#__PURE__*/React.createElement(\"label\",{className:\"container\"},\"Price\",/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",value:\"price\",defaultChecked:\"true\",name:\"radio\",onChange:sort})),/*#__PURE__*/React.createElement(\"label\",{className:\"container\"},\"Alphabetically\",/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",value:\"alpha\",name:\"radio\",onChange:sort}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn-primary\",onClick:resetFilters},\"Reset filters\"))));}","map":{"version":3,"sources":["/home/alessio_barbiero/headlessCommerce/src/components/ProductsFilter.js"],"names":["React","useContext","ProductContext","Title","getUniqueType","item","Set","map","sort","getUniqueBrand","getUniqueComp","toReturn","add","ProductsFilter","products","context","handleChanges","resetFilters","type","brand","price","minPrice","maxPrice","compatibility","types","index","charAt","toUpperCase","slice","brands","comp"],"mappings":"sKAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,UAAR,KAAyB,OAAzB,CACA,OAAQC,cAAR,KAA6B,YAA7B,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CAEA;AACA,GAAMC,CAAAA,aAAa,CAAC,QAAdA,CAAAA,aAAc,CAACC,IAAD,CAAU,CAC1B,MAAO,oBAAI,GAAIC,CAAAA,GAAJ,CAAQD,IAAI,CAACE,GAAL,CAAS,SAAAF,IAAI,QAAIA,CAAAA,IAAI,CAAC,MAAD,CAAR,EAAb,CAAR,CAAJ,EAA6CG,IAA7C,EAAP,CACH,CAFD,CAIA,GAAMC,CAAAA,cAAc,CAAC,QAAfA,CAAAA,cAAe,CAACJ,IAAD,CAAU,CAC3B,MAAO,oBAAI,GAAIC,CAAAA,GAAJ,CAAQD,IAAI,CAACE,GAAL,CAAS,SAAAF,IAAI,QAAIA,CAAAA,IAAI,CAAC,OAAD,CAAR,EAAb,CAAR,CAAJ,EAA8CG,IAA9C,EAAP,CACH,CAFD,CAIA,GAAME,CAAAA,aAAa,CAAC,QAAdA,CAAAA,aAAc,CAACL,IAAD,CAAU,CAC1B,GAAIM,CAAAA,QAAQ,CAAC,GAAIL,CAAAA,GAAJ,EAAb,CACCD,IAAI,CAACE,GAAL,CAAS,SAAAF,IAAI,CAAI,CACdA,IAAI,CAAC,eAAD,CAAJ,CAAsBE,GAAtB,CAA0B,SAAAF,IAAI,QAAIM,CAAAA,QAAQ,CAACC,GAAT,CAAaP,IAAb,CAAJ,EAA9B,EACH,CAFA,CAAD,CAGA,MAAOM,CAAAA,QAAP,CACH,CAND,CAQA,cAAe,SAASE,CAAAA,cAAT,MAAoC,IAAXC,CAAAA,QAAW,MAAXA,QAAW,CAC/C,GAAMC,CAAAA,OAAO,CAACd,UAAU,CAACC,cAAD,CAAxB,CAD+C,GAG3Cc,CAAAA,aAH2C,CAY3CD,OAZ2C,CAG3CC,aAH2C,CAI3CC,YAJ2C,CAY3CF,OAZ2C,CAI3CE,YAJ2C,CAK3CT,IAL2C,CAY3CO,OAZ2C,CAK3CP,IAL2C,CAM3CU,IAN2C,CAY3CH,OAZ2C,CAM3CG,IAN2C,CAO3CC,KAP2C,CAY3CJ,OAZ2C,CAO3CI,KAP2C,CAQ3CC,KAR2C,CAY3CL,OAZ2C,CAQ3CK,KAR2C,CAS3CC,QAT2C,CAY3CN,OAZ2C,CAS3CM,QAT2C,CAU3CC,QAV2C,CAY3CP,OAZ2C,CAU3CO,QAV2C,CAW3CC,aAX2C,CAY3CR,OAZ2C,CAW3CQ,aAX2C,CAc/C,GAAIC,CAAAA,KAAK,CAACpB,aAAa,CAACU,QAAD,CAAvB,CACAU,KAAK,EAAE,KAAF,4BAAWA,KAAX,EAAL,CACAA,KAAK,CAACA,KAAK,CAACjB,GAAN,CAAU,SAACF,IAAD,CAAMoB,KAAN,CAAgB,CAC5B,mBAAO,8BAAQ,KAAK,CAAEpB,IAAf,CAAqB,GAAG,CAAEoB,KAA1B,EAAkCpB,IAAI,CAACqB,MAAL,CAAY,CAAZ,EAAeC,WAAf,GAA+BtB,IAAI,CAACuB,KAAL,CAAW,CAAX,CAAjE,CAAP,CACH,CAFK,CAAN,CAIA,GAAIC,CAAAA,MAAM,CAACpB,cAAc,CAACK,QAAD,CAAzB,CACAe,MAAM,EAAE,KAAF,4BAAWA,MAAX,EAAN,CACAA,MAAM,CAACA,MAAM,CAACtB,GAAP,CAAW,SAACF,IAAD,CAAMoB,KAAN,CAAgB,CAC9B,mBAAO,8BAAQ,KAAK,CAAEpB,IAAf,CAAqB,GAAG,CAAEoB,KAA1B,EAAkCpB,IAAI,CAACqB,MAAL,CAAY,CAAZ,EAAeC,WAAf,GAA+BtB,IAAI,CAACuB,KAAL,CAAW,CAAX,CAAjE,CAAP,CACH,CAFM,CAAP,CAIA,GAAIE,CAAAA,IAAI,CAACpB,aAAa,CAACI,QAAD,CAAtB,CACAgB,IAAI,EAAE,KAAF,4BAAWA,IAAX,EAAJ,CACAA,IAAI,CAACA,IAAI,CAACvB,GAAL,CAAS,SAACF,IAAD,CAAMoB,KAAN,CAAgB,CAC1B,mBAAO,8BAAQ,KAAK,CAAEpB,IAAf,CAAqB,GAAG,CAAEoB,KAA1B,EAAkCpB,IAAI,CAACqB,MAAL,CAAY,CAAZ,EAAeC,WAAf,GAA+BtB,IAAI,CAACuB,KAAL,CAAW,CAAX,CAAjE,CAAP,CACH,CAFI,CAAL,CAIA,mBACI,+BAAS,SAAS,CAAC,kBAAnB,eACI,oBAAC,KAAD,EAAO,KAAK,CAAC,iBAAb,EADJ,cAEQ,4BAAM,SAAS,CAAC,aAAhB,eAEI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,OAAO,CAAC,MAAf,aADJ,cAEI,8BAAQ,IAAI,CAAC,MAAb,CAAoB,EAAE,CAAC,MAAvB,CAA8B,KAAK,CAAEV,IAArC,CAA2C,SAAS,CAAC,cAArD,CAAoE,QAAQ,CAAEF,aAA9E,EACKQ,KADL,CAFJ,CAFJ,cASI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,OAAO,CAAC,OAAf,UADJ,cAEI,8BAAQ,IAAI,CAAC,OAAb,CAAqB,EAAE,CAAC,OAAxB,CAAgC,KAAK,CAAEL,KAAvC,CAA8C,SAAS,CAAC,cAAxD,CAAuE,QAAQ,CAAEH,aAAjF,EACKa,MADL,CAFJ,CATJ,cAgBI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,OAAO,CAAC,aAAf,kBADJ,cAEI,8BAAQ,IAAI,CAAC,eAAb,CAA6B,EAAE,CAAC,eAAhC,CAAgD,KAAK,CAAEN,aAAvD,CAAsE,SAAS,CAAC,cAAhF,CAA+F,QAAQ,CAAEP,aAAzG,EACKc,IADL,CAFJ,CAhBJ,cAuBI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,OAAO,CAAC,OAAf,iBAAoCV,KAApC,CADJ,cAEI,6BAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,GAAG,CAAEC,QAAtC,CAAgD,GAAG,CAAEC,QAArD,CAA+D,EAAE,CAAC,OAAlE,CAA0E,KAAK,CAAEF,KAAjF,CAAwF,QAAQ,CAAEJ,aAAlG,CAAiH,SAAS,CAAC,cAA3H,CAA0I,IAAI,CAAC,IAA/I,EAFJ,CAvBJ,cA4BI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,OAAO,CAAC,MAAf,aADJ,cAEI,6BAAO,SAAS,CAAC,WAAjB,uBACI,6BAAO,IAAI,CAAC,OAAZ,CAAoB,KAAK,CAAC,OAA1B,CAAkC,cAAc,CAAC,MAAjD,CAAwD,IAAI,CAAC,OAA7D,CAAqE,QAAQ,CAAER,IAA/E,EADJ,CAFJ,cAKI,6BAAO,SAAS,CAAC,WAAjB,gCACI,6BAAO,IAAI,CAAC,OAAZ,CAAoB,KAAK,CAAC,OAA1B,CAAkC,IAAI,CAAC,OAAvC,CAA+C,QAAQ,CAAEA,IAAzD,EADJ,CALJ,CA5BJ,cAsCI,2BAAK,SAAS,CAAC,YAAf,eACI,8BAAQ,SAAS,CAAC,aAAlB,CAAgC,OAAO,CAAES,YAAzC,kBADJ,CAtCJ,CAFR,CADJ,CAiDH","sourcesContent":["import React from 'react'\nimport {useContext} from 'react'\nimport {ProductContext} from '../context'\nimport Title from './Title'\n\n//unique filter\nconst getUniqueType=(item) => {\n    return [...new Set(item.map(item => item[\"type\"]))].sort()\n}\n\nconst getUniqueBrand=(item) => {\n    return [...new Set(item.map(item => item[\"brand\"]))].sort()\n}\n\nconst getUniqueComp=(item) => {\n    let toReturn=new Set();\n    (item.map(item => {\n        item[\"compatibility\"].map(item => toReturn.add(item));\n    }));\n    return toReturn;\n}\n\nexport default function ProductsFilter({products}) {\n    const context=useContext(ProductContext);\n    const {\n        handleChanges,\n        resetFilters,\n        sort,\n        type,\n        brand,\n        price,\n        minPrice,\n        maxPrice,\n        compatibility\n    } = context;\n\n    let types=getUniqueType(products);\n    types=['all',...types];\n    types=types.map((item,index) => {\n        return <option value={item} key={index}>{item.charAt(0).toUpperCase() + item.slice(1)}</option>\n    })\n\n    let brands=getUniqueBrand(products);\n    brands=['all',...brands];\n    brands=brands.map((item,index) => {\n        return <option value={item} key={index}>{item.charAt(0).toUpperCase() + item.slice(1)}</option>\n    })\n\n    let comp=getUniqueComp(products);\n    comp=[\"all\",...comp];\n    comp=comp.map((item,index) => {\n        return <option value={item} key={index}>{item.charAt(0).toUpperCase() + item.slice(1)}</option>\n    })\n\n    return(\n        <section className=\"filter-container\">\n            <Title title=\"search products\"></Title>\n                <form className=\"filter-form\">\n                    {/*type*/}\n                    <div className=\"form-group\">\n                        <label htmlFor=\"type\">Category</label>\n                        <select name=\"type\" id=\"type\" value={type} className=\"form-control\" onChange={handleChanges}>\n                            {types}\n                        </select>\n                    </div>\n                    {/*brand*/}\n                    <div className=\"form-group\">\n                        <label htmlFor=\"brand\">Brand</label>\n                        <select name=\"brand\" id=\"brand\" value={brand} className=\"form-control\" onChange={handleChanges}>\n                            {brands}\n                        </select>\n                    </div>\n                    {/*compatibility*/}\n                    <div className=\"form-group\">\n                        <label htmlFor=\"compability\">Compatibility</label>\n                        <select name=\"compatibility\" id=\"compatibility\" value={compatibility} className=\"form-control\" onChange={handleChanges}>\n                            {comp}\n                        </select>\n                    </div>\n                    {/*price*/}\n                    <div className=\"form-group\">\n                        <label htmlFor=\"price\">Max price: ${price}</label>\n                        <input type=\"range\" name=\"price\" min={minPrice} max={maxPrice} id=\"price\" value={price} onChange={handleChanges} className=\"form-control\" step=\"50\"></input>\n                    </div>\n                    {/*sort*/}\n                    <div className=\"form-group\">\n                        <label htmlFor=\"sort\">Sort by:</label>\n                        <label className=\"container\">Price\n                            <input type=\"radio\" value=\"price\" defaultChecked=\"true\" name=\"radio\" onChange={sort}/>\n                        </label>\n                        <label className=\"container\">Alphabetically\n                            <input type=\"radio\" value=\"alpha\" name=\"radio\" onChange={sort}/>\n                        </label>\n                    </div>\n                    {/*reset*/}\n                    <div className=\"form-group\">\n                        <button className=\"btn-primary\" onClick={resetFilters}>\n                            Reset filters\n                        </button>\n                    </div>\n                </form>\n        </section>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}