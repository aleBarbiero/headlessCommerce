{"ast":null,"code":"var _jsxFileName = \"/home/alessio_barbiero/headlessCommerce/client/src/pages/Details.js\";\nimport React, { Component } from 'react';\nimport defaultBack from '../images/404.png';\nimport BannerContainter from '../components/BannerContainer';\nimport { Link } from 'react-router-dom';\nimport { ProductContext } from '../contextAPI';\nimport StyledBanner from '../components/StyledBanner';\nimport Error from './Error';\nexport default class Details extends Component {\n  constructor(props) {\n    super(props);\n\n    this.disableOthers = (index, max) => {\n      for (let i = 0; i < max; i++) {\n        if (i !== index && this.refs['comp' + i]) this.refs['comp' + i].removeAttribute(\"disabled\");else if (this.refs['comp' + i]) this.refs['comp' + i].setAttribute(\"disabled\", \"disabled\");\n      }\n    };\n\n    this.state = {\n      element: this.props.match.params.element,\n      defaultBack,\n      details: \"\",\n      current: 0,\n      error: \"\"\n    };\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n  }\n\n  render() {\n    const {\n      getProduct\n    } = this.context;\n    const {\n      addToCart\n    } = this.context;\n    const product = getProduct(this.state.element);\n\n    if (!product) {\n      return /*#__PURE__*/React.createElement(Error, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 20\n        }\n      });\n    }\n\n    const {\n      name,\n      element,\n      desc,\n      brand,\n      price,\n      compatibility,\n      extra,\n      images,\n      inCartStatus\n    } = product;\n    this.disableOthers(0, compati);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StyledBanner, {\n      img: images[0] || this.state.defaultImg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(BannerContainter, {\n      title: `${brand} - ${name}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/list\",\n      className: \"btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 25\n      }\n    }, \"Back to list\"))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"single-product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }, this.state.error)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"single-product-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"article\", {\n      className: \"desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn-primary\",\n      disabled: inCartStatus[this.state.current].inCart ? true : false,\n      onClick: () => {\n        addToCart(element, this.state.current);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 29\n      }\n    }, inCartStatus[this.state.current].inCart ? \"in cart\" : \"add to cart\"), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 29\n      }\n    }, desc)), /*#__PURE__*/React.createElement(\"article\", {\n      className: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }\n    }, \"Details\"), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 29\n      }\n    }, \"Price: \", price, \"\\u20AC\"), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 29\n      }\n    }, \"Brand: \", brand), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 29\n      }\n    }, \"Compatibility:\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"compatibility\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 29\n      }\n    }, compatibility.length === 1 ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn-primary-choice\",\n      disabled: \"disabled\",\n      key: compatibility[0].id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 41\n      }\n    }, compatibility[0].value) : compatibility.map((item, index) => {\n      if (index === 0) return /*#__PURE__*/React.createElement(\"button\", {\n        ref: \"comp\".concat(index),\n        className: \"btn-primary-choice\",\n        onClick: () => {\n          this.disableOthers(index, compatibility.length);\n          this.setState({\n            current: index\n          });\n        },\n        key: item.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 56\n        }\n      }, item.value);else return /*#__PURE__*/React.createElement(\"button\", {\n        ref: \"comp\".concat(index),\n        className: \"btn-primary-choice\",\n        onClick: () => {\n          this.disableOthers(index, compatibility.length);\n          this.setState({\n            current: index\n          });\n        },\n        key: item.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 56\n        }\n      }, item.value);\n    })))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"product-extras\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 25\n      }\n    }, \"More\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"extras\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 25\n      }\n    }, extra.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 40\n        }\n      }, \"- \", item);\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"single-product-images\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, images.map((item, index) => {\n      if (index !== 0) return /*#__PURE__*/React.createElement(\"img\", {\n        key: index,\n        src: item,\n        alt: name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 40\n        }\n      });\n    }))));\n  }\n\n}\nDetails.contextType = ProductContext;","map":{"version":3,"sources":["/home/alessio_barbiero/headlessCommerce/client/src/pages/Details.js"],"names":["React","Component","defaultBack","BannerContainter","Link","ProductContext","StyledBanner","Error","Details","constructor","props","disableOthers","index","max","i","refs","removeAttribute","setAttribute","state","element","match","params","details","current","error","componentDidMount","window","scrollTo","render","getProduct","context","addToCart","product","name","desc","brand","price","compatibility","extra","images","inCartStatus","compati","defaultImg","inCart","length","id","value","map","item","concat","setState","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport defaultBack from '../images/404.png'\nimport BannerContainter from '../components/BannerContainer'\nimport {Link} from 'react-router-dom'\nimport {ProductContext} from '../contextAPI'\nimport StyledBanner from '../components/StyledBanner'\nimport Error from './Error'\n\nexport default class Details extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            element:this.props.match.params.element,\n            defaultBack,\n            details: \"\",\n            current: 0,\n            error: \"\"\n        };\n    }\n\n    static contextType = ProductContext;\n\n    componentDidMount(){\n        window.scrollTo(0,0);\n\n    }\n    \n    disableOthers = (index,max) => {\n        for(let i=0;i<max;i++){\n            if(i!==index && this.refs['comp' + i])\n                this.refs['comp' + i].removeAttribute(\"disabled\")\n            else if(this.refs['comp' + i])\n                this.refs['comp' + i].setAttribute(\"disabled\",\"disabled\")\n        }\n    }\n\n    render() {\n        const {getProduct} = this.context;\n        const {addToCart} = this.context;\n        const product = getProduct(this.state.element);\n        if(!product){\n            return <Error></Error>\n        }\n        const {\n            name,\n            element,\n            desc,\n            brand,\n            price,\n            compatibility,\n            extra,\n            images,\n            inCartStatus\n        } = product;\n        \n        this.disableOthers(0,compati)\n\n        return (\n            <>\n                <StyledBanner img={images[0] || this.state.defaultImg}>\n                    <BannerContainter title={`${brand} - ${name}`}>\n                        <Link to=\"/list\" className=\"btn-primary\">\n                            Back to list\n                        </Link>\n                    </BannerContainter>\n                </StyledBanner>\n                <section className=\"single-product\">\n                    <div className=\"error\">\n                        <h2>{this.state.error}</h2>\n                    </div>\n                    \n                    <div className=\"single-product-info\">\n                        <article className=\"desc\">\n                            <button className=\"btn-primary\" disabled={inCartStatus[this.state.current].inCart?true:false} onClick={() => {\n                                addToCart(element,this.state.current)}\n                            }>\n                            {inCartStatus[this.state.current].inCart ? \"in cart\" : \"add to cart\"}\n                            </button>\n                            <h3>Description</h3>\n                            <p>{desc}</p>\n                        </article>\n                        <article className=\"info\">\n                            <h3>Details</h3>\n                            <h6>Price: {price}€</h6>\n                            <h6>Brand: {brand}</h6>\n                            <h6>Compatibility:</h6>\n                            <ul className=\"compatibility\">\n                                {\n                                    compatibility.length===1 ? \n                                        <button className=\"btn-primary-choice\" disabled=\"disabled\" key={compatibility[0].id}>{compatibility[0].value}</button>\n                                     : \n                                        compatibility.map((item,index) => {\n                                            if(index===0)\n                                                return <button ref={\"comp\".concat(index)} className=\"btn-primary-choice\"\n                                                        onClick={() => {this.disableOthers(index,compatibility.length); this.setState({current:index})}} key={item.id}>{item.value}</button>\n                                            else\n                                                return <button ref={\"comp\".concat(index)} className=\"btn-primary-choice\" \n                                                    onClick={() => {this.disableOthers(index,compatibility.length); this.setState({current:index})}} key={item.id}>{item.value}</button>\n                                        })\n                                    \n                                }\n                            </ul>\n                        </article>\n                    </div>\n                    <section className=\"product-extras\">\n                        <h6>More</h6>\n                        <ul className=\"extras\">\n                            {extra.map((item, index) => {\n                                return <li key={index}>- {item}</li>\n                            })}\n                        </ul>\n                    </section>\n                    <div className=\"single-product-images\">\n                        {images.map((item,index) => {\n                            if(index!==0)\n                                return <img key={index} src={item} alt={name}></img>\n                        })}\n                    </div>\n                </section>\n                \n            </>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}